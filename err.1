==6147== Memcheck, a memory error detector
==6147== Copyright (C) 2002-2015, and GNU GPL'd, by Julian Seward et al.
==6147== Using Valgrind-3.12.0 and LibVEX; rerun with -h for copyright info
==6147== Command: ./bin/LAIR -v 1 -m tiny
==6147== 
==6147== Conditional jump or move depends on uninitialised value(s)
==6147==    at 0x4C32EA6: rawmemchr (vg_replace_strmem.c:1402)
==6147==    by 0x7582391: _IO_str_init_static_internal (strops.c:41)
==6147==    by 0x7575B66: vsscanf (iovsscanf.c:40)
==6147==    by 0x75702D6: sscanf (sscanf.c:32)
==6147==    by 0x13419E4A: ??? (in /usr/lib/x86_64-linux-gnu/libdrm.so.2.4.0)
==6147==    by 0x1341A182: ??? (in /usr/lib/x86_64-linux-gnu/libdrm.so.2.4.0)
==6147==    by 0x1341DBF8: drmGetDevice (in /usr/lib/x86_64-linux-gnu/libdrm.so.2.4.0)
==6147==    by 0x11F642D6: ??? (in /usr/lib/x86_64-linux-gnu/libGL.so.1.2.0)
==6147==    by 0x11F63694: ??? (in /usr/lib/x86_64-linux-gnu/libGL.so.1.2.0)
==6147==    by 0x11F37988: ??? (in /usr/lib/x86_64-linux-gnu/libGL.so.1.2.0)
==6147==    by 0x11F33B9A: ??? (in /usr/lib/x86_64-linux-gnu/libGL.so.1.2.0)
==6147==    by 0x11F33FD1: glXQueryExtensionsString (in /usr/lib/x86_64-linux-gnu/libGL.so.1.2.0)
==6147==  Uninitialised value was created by a stack allocation
==6147==    at 0x13419D9D: ??? (in /usr/lib/x86_64-linux-gnu/libdrm.so.2.4.0)
==6147== 
==6147== Syscall param writev(vector[...]) points to uninitialised byte(s)
==6147==    at 0x75ECD5D: ??? (syscall-template.S:84)
==6147==    by 0xD38841C: ??? (in /usr/lib/x86_64-linux-gnu/libxcb.so.1.1.0)
==6147==    by 0xD38881C: ??? (in /usr/lib/x86_64-linux-gnu/libxcb.so.1.1.0)
==6147==    by 0xD38889C: xcb_writev (in /usr/lib/x86_64-linux-gnu/libxcb.so.1.1.0)
==6147==    by 0x938AA7D: _XSend (in /usr/lib/x86_64-linux-gnu/libX11.so.6.3.0)
==6147==    by 0x938AF71: _XReply (in /usr/lib/x86_64-linux-gnu/libX11.so.6.3.0)
==6147==    by 0x9375E2E: XInternAtom (in /usr/lib/x86_64-linux-gnu/libX11.so.6.3.0)
==6147==    by 0x5A2946A: ??? (in /usr/lib/x86_64-linux-gnu/libSDL2-2.0.so.0.4.1)
==6147==    by 0x5A2A364: ??? (in /usr/lib/x86_64-linux-gnu/libSDL2-2.0.so.0.4.1)
==6147==    by 0x5A1A2EF: ??? (in /usr/lib/x86_64-linux-gnu/libSDL2-2.0.so.0.4.1)
==6147==    by 0x5A1A07E: ??? (in /usr/lib/x86_64-linux-gnu/libSDL2-2.0.so.0.4.1)
==6147==    by 0x5980456: ??? (in /usr/lib/x86_64-linux-gnu/libSDL2-2.0.so.0.4.1)
==6147==  Address 0x111f1f73 is 35 bytes inside a block of size 16,384 alloc'd
==6147==    at 0x4C2DBC5: calloc (vg_replace_malloc.c:711)
==6147==    by 0x937AEC5: XOpenDisplay (in /usr/lib/x86_64-linux-gnu/libX11.so.6.3.0)
==6147==    by 0x5A2853F: ??? (in /usr/lib/x86_64-linux-gnu/libSDL2-2.0.so.0.4.1)
==6147==    by 0x5A1A02B: ??? (in /usr/lib/x86_64-linux-gnu/libSDL2-2.0.so.0.4.1)
==6147==    by 0x5980456: ??? (in /usr/lib/x86_64-linux-gnu/libSDL2-2.0.so.0.4.1)
==6147==    by 0x10AD84: lair_lair_construct (main.vala:20)
==6147==    by 0x10B470: lair_lair_new (main.vala:17)
==6147==    by 0x10BB0F: lair_lair_main (main.vala:159)
==6147==    by 0x10BB89: main (main.vala:92)
==6147==  Uninitialised value was created by a stack allocation
==6147==    at 0x9386210: XStoreColors (in /usr/lib/x86_64-linux-gnu/libX11.so.6.3.0)
==6147== 
==6555== Warning: invalid file descriptor 1024 in syscall close()
==6555== 
==6555== HEAP SUMMARY:
==6555==     in use at exit: 2,511,281 bytes in 8,496 blocks
==6555==   total heap usage: 23,549 allocs, 15,053 frees, 27,595,165 bytes allocated
==6555== 
==6555== LEAK SUMMARY:
==6555==    definitely lost: 192 bytes in 7 blocks
==6555==    indirectly lost: 176 bytes in 4 blocks
==6555==      possibly lost: 1,640,625 bytes in 6,207 blocks
==6555==    still reachable: 870,048 bytes in 2,275 blocks
==6555==                       of which reachable via heuristic:
==6555==                         length64           : 696 bytes in 15 blocks
==6555==                         newarray           : 1,648 bytes in 23 blocks
==6555==         suppressed: 0 bytes in 0 blocks
==6555== Rerun with --leak-check=full to see details of leaked memory
==6555== 
==6555== For counts of detected and suppressed errors, rerun with: -v
==6555== ERROR SUMMARY: 13 errors from 2 contexts (suppressed: 0 from 0)
==6147== Invalid read of size 8
==6147==    at 0x115CB5: lair_type_is_player (type.vala:132)
==6147==    by 0x11C0CF: lair_move_run (move.vala:276)
==6147==    by 0x112CD8: lair_room_take_turns (room.vala:234)
==6147==    by 0x1143EC: lair_floor_take_turns (floor.vala:90)
==6147==    by 0x114C07: lair_tower_take_turns (tower.vala:35)
==6147==    by 0x114F0F: lair_game_update_screen (game.vala:31)
==6147==    by 0x115228: lair_game_run (game.vala:47)
==6147==    by 0x10ADDC: lair_lair_construct (main.vala:28)
==6147==    by 0x10B470: lair_lair_new (main.vala:17)
==6147==    by 0x10BB0F: lair_lair_main (main.vala:159)
==6147==    by 0x10BB89: main (main.vala:92)
==6147==  Address 0x18c4f710 is 432 bytes inside a block of size 512 free'd
==6147==    at 0x4C2CDDB: free (vg_replace_malloc.c:530)
==6147==    by 0x5201671: g_type_free_instance (gtype.c:1937)
==6147==    by 0x113B9D: _g_object_unref0_ (floor.vala:4)
==6147==    by 0x5467AAC: g_list_foreach (glist.c:1005)
==6147==    by 0x113DA8: _g_list_free__g_object_unref0_ (floor.vala:4)
==6147==    by 0x114550: lair_floor_detect_collisions (floor.vala:103)
==6147==    by 0x114C90: lair_tower_detect_collisions (tower.vala:42)
==6147==    by 0x114F02: lair_game_update_screen (game.vala:30)
==6147==    by 0x115228: lair_game_run (game.vala:47)
==6147==    by 0x10ADDC: lair_lair_construct (main.vala:28)
==6147==    by 0x10B470: lair_lair_new (main.vala:17)
==6147==    by 0x10BB0F: lair_lair_main (main.vala:159)
==6147==  Block was alloc'd at
==6147==    at 0x4C2BBAF: malloc (vg_replace_malloc.c:299)
==6147==    by 0x5470E08: g_malloc (gmem.c:94)
==6147==    by 0x5489342: g_slice_alloc (gslice.c:1025)
==6147==    by 0x548996D: g_slice_alloc0 (gslice.c:1051)
==6147==    by 0x52013A8: g_type_create_instance (gtype.c:1839)
==6147==    by 0x51E31FA: g_object_new_internal (gobject.c:1783)
==6147==    by 0x51E4C0C: g_object_newv (gobject.c:1930)
==6147==    by 0x51E53C3: g_object_new (gobject.c:1623)
==6147==    by 0x10D0EB: lair_scribe_construct_new_local_attributes (scribe.vala:7)
==6147==    by 0x10CE2C: lair_lua_global_construct (luaglobal.vala:7)
==6147==    by 0x10C1B8: lair_lua_conf_construct (luaconf.vala:9)
==6147==    by 0x115BA4: lair_type_construct_Mobile (type.vala:43)
==6147== 
==6147== Invalid read of size 4
==6147==    at 0x115CB9: lair_type_is_player (type.vala:132)
==6147==    by 0x11C0CF: lair_move_run (move.vala:276)
==6147==    by 0x112CD8: lair_room_take_turns (room.vala:234)
==6147==    by 0x1143EC: lair_floor_take_turns (floor.vala:90)
==6147==    by 0x114C07: lair_tower_take_turns (tower.vala:35)
==6147==    by 0x114F0F: lair_game_update_screen (game.vala:31)
==6147==    by 0x115228: lair_game_run (game.vala:47)
==6147==    by 0x10ADDC: lair_lair_construct (main.vala:28)
==6147==    by 0x10B470: lair_lair_new (main.vala:17)
==6147==    by 0x10BB0F: lair_lair_main (main.vala:159)
==6147==    by 0x10BB89: main (main.vala:92)
==6147==  Address 0x18c4f670 is 272 bytes inside a block of size 512 free'd
==6147==    at 0x4C2CDDB: free (vg_replace_malloc.c:530)
==6147==    by 0x5201671: g_type_free_instance (gtype.c:1937)
==6147==    by 0x113B9D: _g_object_unref0_ (floor.vala:4)
==6147==    by 0x5467AAC: g_list_foreach (glist.c:1005)
==6147==    by 0x113DA8: _g_list_free__g_object_unref0_ (floor.vala:4)
==6147==    by 0x114550: lair_floor_detect_collisions (floor.vala:103)
==6147==    by 0x114C90: lair_tower_detect_collisions (tower.vala:42)
==6147==    by 0x114F02: lair_game_update_screen (game.vala:30)
==6147==    by 0x115228: lair_game_run (game.vala:47)
==6147==    by 0x10ADDC: lair_lair_construct (main.vala:28)
==6147==    by 0x10B470: lair_lair_new (main.vala:17)
==6147==    by 0x10BB0F: lair_lair_main (main.vala:159)
==6147==  Block was alloc'd at
==6147==    at 0x4C2BBAF: malloc (vg_replace_malloc.c:299)
==6147==    by 0x5470E08: g_malloc (gmem.c:94)
==6147==    by 0x5489342: g_slice_alloc (gslice.c:1025)
==6147==    by 0x548996D: g_slice_alloc0 (gslice.c:1051)
==6147==    by 0x52013A8: g_type_create_instance (gtype.c:1839)
==6147==    by 0x51E31FA: g_object_new_internal (gobject.c:1783)
==6147==    by 0x51E4C0C: g_object_newv (gobject.c:1930)
==6147==    by 0x51E53C3: g_object_new (gobject.c:1623)
==6147==    by 0x10D0EB: lair_scribe_construct_new_local_attributes (scribe.vala:7)
==6147==    by 0x10CE2C: lair_lua_global_construct (luaglobal.vala:7)
==6147==    by 0x10C1B8: lair_lua_conf_construct (luaconf.vala:9)
==6147==    by 0x115BA4: lair_type_construct_Mobile (type.vala:43)
==6147== 
==6147== Invalid read of size 8
==6147==    at 0x11BA8D: lair_move_get_ai_func (move.vala:152)
==6147==    by 0x11BC38: lair_move_ai_input (move.vala:160)
==6147==    by 0x11C0DB: lair_move_run (move.vala:279)
==6147==    by 0x112CD8: lair_room_take_turns (room.vala:234)
==6147==    by 0x1143EC: lair_floor_take_turns (floor.vala:90)
==6147==    by 0x114C07: lair_tower_take_turns (tower.vala:35)
==6147==    by 0x114F0F: lair_game_update_screen (game.vala:31)
==6147==    by 0x115228: lair_game_run (game.vala:47)
==6147==    by 0x10ADDC: lair_lair_construct (main.vala:28)
==6147==    by 0x10B470: lair_lair_new (main.vala:17)
==6147==    by 0x10BB0F: lair_lair_main (main.vala:159)
==6147==    by 0x10BB89: main (main.vala:92)
==6147==  Address 0x18c4f748 is 488 bytes inside a block of size 512 free'd
==6147==    at 0x4C2CDDB: free (vg_replace_malloc.c:530)
==6147==    by 0x5201671: g_type_free_instance (gtype.c:1937)
==6147==    by 0x113B9D: _g_object_unref0_ (floor.vala:4)
==6147==    by 0x5467AAC: g_list_foreach (glist.c:1005)
==6147==    by 0x113DA8: _g_list_free__g_object_unref0_ (floor.vala:4)
==6147==    by 0x114550: lair_floor_detect_collisions (floor.vala:103)
==6147==    by 0x114C90: lair_tower_detect_collisions (tower.vala:42)
==6147==    by 0x114F02: lair_game_update_screen (game.vala:30)
==6147==    by 0x115228: lair_game_run (game.vala:47)
==6147==    by 0x10ADDC: lair_lair_construct (main.vala:28)
==6147==    by 0x10B470: lair_lair_new (main.vala:17)
==6147==    by 0x10BB0F: lair_lair_main (main.vala:159)
==6147==  Block was alloc'd at
==6147==    at 0x4C2BBAF: malloc (vg_replace_malloc.c:299)
==6147==    by 0x5470E08: g_malloc (gmem.c:94)
==6147==    by 0x5489342: g_slice_alloc (gslice.c:1025)
==6147==    by 0x548996D: g_slice_alloc0 (gslice.c:1051)
==6147==    by 0x52013A8: g_type_create_instance (gtype.c:1839)
==6147==    by 0x51E31FA: g_object_new_internal (gobject.c:1783)
==6147==    by 0x51E4C0C: g_object_newv (gobject.c:1930)
==6147==    by 0x51E53C3: g_object_new (gobject.c:1623)
==6147==    by 0x10D0EB: lair_scribe_construct_new_local_attributes (scribe.vala:7)
==6147==    by 0x10CE2C: lair_lua_global_construct (luaglobal.vala:7)
==6147==    by 0x10C1B8: lair_lua_conf_construct (luaconf.vala:9)
==6147==    by 0x115BA4: lair_type_construct_Mobile (type.vala:43)
==6147== 
==6147== Invalid read of size 8
==6147==    at 0x11BA91: lair_move_get_ai_func (move.vala:152)
==6147==    by 0x11BC38: lair_move_ai_input (move.vala:160)
==6147==    by 0x11C0DB: lair_move_run (move.vala:279)
==6147==    by 0x112CD8: lair_room_take_turns (room.vala:234)
==6147==    by 0x1143EC: lair_floor_take_turns (floor.vala:90)
==6147==    by 0x114C07: lair_tower_take_turns (tower.vala:35)
==6147==    by 0x114F0F: lair_game_update_screen (game.vala:31)
==6147==    by 0x115228: lair_game_run (game.vala:47)
==6147==    by 0x10ADDC: lair_lair_construct (main.vala:28)
==6147==    by 0x10B470: lair_lair_new (main.vala:17)
==6147==    by 0x10BB0F: lair_lair_main (main.vala:159)
==6147==    by 0x10BB89: main (main.vala:92)
==6147==  Address 0x18c4f580 is 32 bytes inside a block of size 512 free'd
==6147==    at 0x4C2CDDB: free (vg_replace_malloc.c:530)
==6147==    by 0x5201671: g_type_free_instance (gtype.c:1937)
==6147==    by 0x113B9D: _g_object_unref0_ (floor.vala:4)
==6147==    by 0x5467AAC: g_list_foreach (glist.c:1005)
==6147==    by 0x113DA8: _g_list_free__g_object_unref0_ (floor.vala:4)
==6147==    by 0x114550: lair_floor_detect_collisions (floor.vala:103)
==6147==    by 0x114C90: lair_tower_detect_collisions (tower.vala:42)
==6147==    by 0x114F02: lair_game_update_screen (game.vala:30)
==6147==    by 0x115228: lair_game_run (game.vala:47)
==6147==    by 0x10ADDC: lair_lair_construct (main.vala:28)
==6147==    by 0x10B470: lair_lair_new (main.vala:17)
==6147==    by 0x10BB0F: lair_lair_main (main.vala:159)
==6147==  Block was alloc'd at
==6147==    at 0x4C2BBAF: malloc (vg_replace_malloc.c:299)
==6147==    by 0x5470E08: g_malloc (gmem.c:94)
==6147==    by 0x5489342: g_slice_alloc (gslice.c:1025)
==6147==    by 0x548996D: g_slice_alloc0 (gslice.c:1051)
==6147==    by 0x52013A8: g_type_create_instance (gtype.c:1839)
==6147==    by 0x51E31FA: g_object_new_internal (gobject.c:1783)
==6147==    by 0x51E4C0C: g_object_newv (gobject.c:1930)
==6147==    by 0x51E53C3: g_object_new (gobject.c:1623)
==6147==    by 0x10D0EB: lair_scribe_construct_new_local_attributes (scribe.vala:7)
==6147==    by 0x10CE2C: lair_lua_global_construct (luaglobal.vala:7)
==6147==    by 0x10C1B8: lair_lua_conf_construct (luaconf.vala:9)
==6147==    by 0x115BA4: lair_type_construct_Mobile (type.vala:43)
==6147== 
==6147== Invalid read of size 8
==6147==    at 0x11BAA4: lair_move_get_ai_func (move.vala:155)
==6147==    by 0x11BC38: lair_move_ai_input (move.vala:160)
==6147==    by 0x11C0DB: lair_move_run (move.vala:279)
==6147==    by 0x112CD8: lair_room_take_turns (room.vala:234)
==6147==    by 0x1143EC: lair_floor_take_turns (floor.vala:90)
==6147==    by 0x114C07: lair_tower_take_turns (tower.vala:35)
==6147==    by 0x114F0F: lair_game_update_screen (game.vala:31)
==6147==    by 0x115228: lair_game_run (game.vala:47)
==6147==    by 0x10ADDC: lair_lair_construct (main.vala:28)
==6147==    by 0x10B470: lair_lair_new (main.vala:17)
==6147==    by 0x10BB0F: lair_lair_main (main.vala:159)
==6147==    by 0x10BB89: main (main.vala:92)
==6147==  Address 0x18c4f748 is 488 bytes inside a block of size 512 free'd
==6147==    at 0x4C2CDDB: free (vg_replace_malloc.c:530)
==6147==    by 0x5201671: g_type_free_instance (gtype.c:1937)
==6147==    by 0x113B9D: _g_object_unref0_ (floor.vala:4)
==6147==    by 0x5467AAC: g_list_foreach (glist.c:1005)
==6147==    by 0x113DA8: _g_list_free__g_object_unref0_ (floor.vala:4)
==6147==    by 0x114550: lair_floor_detect_collisions (floor.vala:103)
==6147==    by 0x114C90: lair_tower_detect_collisions (tower.vala:42)
==6147==    by 0x114F02: lair_game_update_screen (game.vala:30)
==6147==    by 0x115228: lair_game_run (game.vala:47)
==6147==    by 0x10ADDC: lair_lair_construct (main.vala:28)
==6147==    by 0x10B470: lair_lair_new (main.vala:17)
==6147==    by 0x10BB0F: lair_lair_main (main.vala:159)
==6147==  Block was alloc'd at
==6147==    at 0x4C2BBAF: malloc (vg_replace_malloc.c:299)
==6147==    by 0x5470E08: g_malloc (gmem.c:94)
==6147==    by 0x5489342: g_slice_alloc (gslice.c:1025)
==6147==    by 0x548996D: g_slice_alloc0 (gslice.c:1051)
==6147==    by 0x52013A8: g_type_create_instance (gtype.c:1839)
==6147==    by 0x51E31FA: g_object_new_internal (gobject.c:1783)
==6147==    by 0x51E4C0C: g_object_newv (gobject.c:1930)
==6147==    by 0x51E53C3: g_object_new (gobject.c:1623)
==6147==    by 0x10D0EB: lair_scribe_construct_new_local_attributes (scribe.vala:7)
==6147==    by 0x10CE2C: lair_lua_global_construct (luaglobal.vala:7)
==6147==    by 0x10C1B8: lair_lua_conf_construct (luaconf.vala:9)
==6147==    by 0x115BA4: lair_type_construct_Mobile (type.vala:43)
==6147== 
==6147== Invalid read of size 8
==6147==    at 0x11BAA8: lair_move_get_ai_func (move.vala:155)
==6147==    by 0x11BC38: lair_move_ai_input (move.vala:160)
==6147==    by 0x11C0DB: lair_move_run (move.vala:279)
==6147==    by 0x112CD8: lair_room_take_turns (room.vala:234)
==6147==    by 0x1143EC: lair_floor_take_turns (floor.vala:90)
==6147==    by 0x114C07: lair_tower_take_turns (tower.vala:35)
==6147==    by 0x114F0F: lair_game_update_screen (game.vala:31)
==6147==    by 0x115228: lair_game_run (game.vala:47)
==6147==    by 0x10ADDC: lair_lair_construct (main.vala:28)
==6147==    by 0x10B470: lair_lair_new (main.vala:17)
==6147==    by 0x10BB0F: lair_lair_main (main.vala:159)
==6147==    by 0x10BB89: main (main.vala:92)
==6147==  Address 0x18c4f580 is 32 bytes inside a block of size 512 free'd
==6147==    at 0x4C2CDDB: free (vg_replace_malloc.c:530)
==6147==    by 0x5201671: g_type_free_instance (gtype.c:1937)
==6147==    by 0x113B9D: _g_object_unref0_ (floor.vala:4)
==6147==    by 0x5467AAC: g_list_foreach (glist.c:1005)
==6147==    by 0x113DA8: _g_list_free__g_object_unref0_ (floor.vala:4)
==6147==    by 0x114550: lair_floor_detect_collisions (floor.vala:103)
==6147==    by 0x114C90: lair_tower_detect_collisions (tower.vala:42)
==6147==    by 0x114F02: lair_game_update_screen (game.vala:30)
==6147==    by 0x115228: lair_game_run (game.vala:47)
==6147==    by 0x10ADDC: lair_lair_construct (main.vala:28)
==6147==    by 0x10B470: lair_lair_new (main.vala:17)
==6147==    by 0x10BB0F: lair_lair_main (main.vala:159)
==6147==  Block was alloc'd at
==6147==    at 0x4C2BBAF: malloc (vg_replace_malloc.c:299)
==6147==    by 0x5470E08: g_malloc (gmem.c:94)
==6147==    by 0x5489342: g_slice_alloc (gslice.c:1025)
==6147==    by 0x548996D: g_slice_alloc0 (gslice.c:1051)
==6147==    by 0x52013A8: g_type_create_instance (gtype.c:1839)
==6147==    by 0x51E31FA: g_object_new_internal (gobject.c:1783)
==6147==    by 0x51E4C0C: g_object_newv (gobject.c:1930)
==6147==    by 0x51E53C3: g_object_new (gobject.c:1623)
==6147==    by 0x10D0EB: lair_scribe_construct_new_local_attributes (scribe.vala:7)
==6147==    by 0x10CE2C: lair_lua_global_construct (luaglobal.vala:7)
==6147==    by 0x10C1B8: lair_lua_conf_construct (luaconf.vala:9)
==6147==    by 0x115BA4: lair_type_construct_Mobile (type.vala:43)
==6147== 
==6147== Invalid read of size 8
==6147==    at 0x10CEAF: lair_lua_global_global_vm_pointer (luaglobal.vala:12)
==6147==    by 0x10C29B: lair_lua_conf_get_lua_last_return (luaconf.vala:68)
==6147==    by 0x11BC56: lair_move_ai_input (move.vala:161)
==6147==    by 0x11C0DB: lair_move_run (move.vala:279)
==6147==    by 0x112CD8: lair_room_take_turns (room.vala:234)
==6147==    by 0x1143EC: lair_floor_take_turns (floor.vala:90)
==6147==    by 0x114C07: lair_tower_take_turns (tower.vala:35)
==6147==    by 0x114F0F: lair_game_update_screen (game.vala:31)
==6147==    by 0x115228: lair_game_run (game.vala:47)
==6147==    by 0x10ADDC: lair_lair_construct (main.vala:28)
==6147==    by 0x10B470: lair_lair_new (main.vala:17)
==6147==    by 0x10BB0F: lair_lair_main (main.vala:159)
==6147==  Address 0x18c4f700 is 416 bytes inside a block of size 512 free'd
==6147==    at 0x4C2CDDB: free (vg_replace_malloc.c:530)
==6147==    by 0x5201671: g_type_free_instance (gtype.c:1937)
==6147==    by 0x113B9D: _g_object_unref0_ (floor.vala:4)
==6147==    by 0x5467AAC: g_list_foreach (glist.c:1005)
==6147==    by 0x113DA8: _g_list_free__g_object_unref0_ (floor.vala:4)
==6147==    by 0x114550: lair_floor_detect_collisions (floor.vala:103)
==6147==    by 0x114C90: lair_tower_detect_collisions (tower.vala:42)
==6147==    by 0x114F02: lair_game_update_screen (game.vala:30)
==6147==    by 0x115228: lair_game_run (game.vala:47)
==6147==    by 0x10ADDC: lair_lair_construct (main.vala:28)
==6147==    by 0x10B470: lair_lair_new (main.vala:17)
==6147==    by 0x10BB0F: lair_lair_main (main.vala:159)
==6147==  Block was alloc'd at
==6147==    at 0x4C2BBAF: malloc (vg_replace_malloc.c:299)
==6147==    by 0x5470E08: g_malloc (gmem.c:94)
==6147==    by 0x5489342: g_slice_alloc (gslice.c:1025)
==6147==    by 0x548996D: g_slice_alloc0 (gslice.c:1051)
==6147==    by 0x52013A8: g_type_create_instance (gtype.c:1839)
==6147==    by 0x51E31FA: g_object_new_internal (gobject.c:1783)
==6147==    by 0x51E4C0C: g_object_newv (gobject.c:1930)
==6147==    by 0x51E53C3: g_object_new (gobject.c:1623)
==6147==    by 0x10D0EB: lair_scribe_construct_new_local_attributes (scribe.vala:7)
==6147==    by 0x10CE2C: lair_lua_global_construct (luaglobal.vala:7)
==6147==    by 0x10C1B8: lair_lua_conf_construct (luaconf.vala:9)
==6147==    by 0x115BA4: lair_type_construct_Mobile (type.vala:43)
==6147== 
==6147== Invalid read of size 8
==6147==    at 0x10CEB3: lair_lua_global_global_vm_pointer (luaglobal.vala:12)
==6147==    by 0x10C29B: lair_lua_conf_get_lua_last_return (luaconf.vala:68)
==6147==    by 0x11BC56: lair_move_ai_input (move.vala:161)
==6147==    by 0x11C0DB: lair_move_run (move.vala:279)
==6147==    by 0x112CD8: lair_room_take_turns (room.vala:234)
==6147==    by 0x1143EC: lair_floor_take_turns (floor.vala:90)
==6147==    by 0x114C07: lair_tower_take_turns (tower.vala:35)
==6147==    by 0x114F0F: lair_game_update_screen (game.vala:31)
==6147==    by 0x115228: lair_game_run (game.vala:47)
==6147==    by 0x10ADDC: lair_lair_construct (main.vala:28)
==6147==    by 0x10B470: lair_lair_new (main.vala:17)
==6147==    by 0x10BB0F: lair_lair_main (main.vala:159)
==6147==  Address 0x18c4f6b0 is 336 bytes inside a block of size 512 free'd
==6147==    at 0x4C2CDDB: free (vg_replace_malloc.c:530)
==6147==    by 0x5201671: g_type_free_instance (gtype.c:1937)
==6147==    by 0x113B9D: _g_object_unref0_ (floor.vala:4)
==6147==    by 0x5467AAC: g_list_foreach (glist.c:1005)
==6147==    by 0x113DA8: _g_list_free__g_object_unref0_ (floor.vala:4)
==6147==    by 0x114550: lair_floor_detect_collisions (floor.vala:103)
==6147==    by 0x114C90: lair_tower_detect_collisions (tower.vala:42)
==6147==    by 0x114F02: lair_game_update_screen (game.vala:30)
==6147==    by 0x115228: lair_game_run (game.vala:47)
==6147==    by 0x10ADDC: lair_lair_construct (main.vala:28)
==6147==    by 0x10B470: lair_lair_new (main.vala:17)
==6147==    by 0x10BB0F: lair_lair_main (main.vala:159)
==6147==  Block was alloc'd at
==6147==    at 0x4C2BBAF: malloc (vg_replace_malloc.c:299)
==6147==    by 0x5470E08: g_malloc (gmem.c:94)
==6147==    by 0x5489342: g_slice_alloc (gslice.c:1025)
==6147==    by 0x548996D: g_slice_alloc0 (gslice.c:1051)
==6147==    by 0x52013A8: g_type_create_instance (gtype.c:1839)
==6147==    by 0x51E31FA: g_object_new_internal (gobject.c:1783)
==6147==    by 0x51E4C0C: g_object_newv (gobject.c:1930)
==6147==    by 0x51E53C3: g_object_new (gobject.c:1623)
==6147==    by 0x10D0EB: lair_scribe_construct_new_local_attributes (scribe.vala:7)
==6147==    by 0x10CE2C: lair_lua_global_construct (luaglobal.vala:7)
==6147==    by 0x10C1B8: lair_lua_conf_construct (luaconf.vala:9)
==6147==    by 0x115BA4: lair_type_construct_Mobile (type.vala:43)
==6147== 
==6147== Invalid read of size 8
==6147==    at 0x573C360: lua_gettop (lapi.c:160)
==6147==    by 0x10C2A3: lair_lua_conf_get_lua_last_return (luaconf.vala:68)
==6147==    by 0x11BC56: lair_move_ai_input (move.vala:161)
==6147==    by 0x11C0DB: lair_move_run (move.vala:279)
==6147==    by 0x112CD8: lair_room_take_turns (room.vala:234)
==6147==    by 0x1143EC: lair_floor_take_turns (floor.vala:90)
==6147==    by 0x114C07: lair_tower_take_turns (tower.vala:35)
==6147==    by 0x114F0F: lair_game_update_screen (game.vala:31)
==6147==    by 0x115228: lair_game_run (game.vala:47)
==6147==    by 0x10ADDC: lair_lair_construct (main.vala:28)
==6147==    by 0x10B470: lair_lair_new (main.vala:17)
==6147==    by 0x10BB0F: lair_lair_main (main.vala:159)
==6147==  Address 0x10 is not stack'd, malloc'd or (recently) free'd
==6147== 
==6147== 
==6147== Process terminating with default action of signal 11 (SIGSEGV)
==6147==  Access not within mapped region at address 0x10
==6147==    at 0x573C360: lua_gettop (lapi.c:160)
==6147==    by 0x10C2A3: lair_lua_conf_get_lua_last_return (luaconf.vala:68)
==6147==    by 0x11BC56: lair_move_ai_input (move.vala:161)
==6147==    by 0x11C0DB: lair_move_run (move.vala:279)
==6147==    by 0x112CD8: lair_room_take_turns (room.vala:234)
==6147==    by 0x1143EC: lair_floor_take_turns (floor.vala:90)
==6147==    by 0x114C07: lair_tower_take_turns (tower.vala:35)
==6147==    by 0x114F0F: lair_game_update_screen (game.vala:31)
==6147==    by 0x115228: lair_game_run (game.vala:47)
==6147==    by 0x10ADDC: lair_lair_construct (main.vala:28)
==6147==    by 0x10B470: lair_lair_new (main.vala:17)
==6147==    by 0x10BB0F: lair_lair_main (main.vala:159)
==6147==  If you believe this happened as a result of a stack
==6147==  overflow in your program's main thread (unlikely but
==6147==  possible), you can try to increase the size of the
==6147==  main thread stack using the --main-stacksize= flag.
==6147==  The main thread stack size used in this run was 8388608.
==6147== 
==6147== HEAP SUMMARY:
==6147==     in use at exit: 42,034,111 bytes in 147,466 blocks
==6147==   total heap usage: 9,506,790 allocs, 9,359,324 frees, 284,747,349 bytes allocated
==6147== 
==6147== LEAK SUMMARY:
==6147==    definitely lost: 12,448 bytes in 83 blocks
==6147==    indirectly lost: 346 bytes in 44 blocks
==6147==      possibly lost: 33,139,951 bytes in 64,145 blocks
==6147==    still reachable: 8,753,558 bytes in 82,718 blocks
==6147==                       of which reachable via heuristic:
==6147==                         length64           : 880 bytes in 19 blocks
==6147==                         newarray           : 1,680 bytes in 25 blocks
==6147==         suppressed: 0 bytes in 0 blocks
==6147== Rerun with --leak-check=full to see details of leaked memory
==6147== 
==6147== For counts of detected and suppressed errors, rerun with: -v
==6147== ERROR SUMMARY: 26 errors from 11 contexts (suppressed: 0 from 0)
make[1]: *** [memcheck] Segmentation fault
